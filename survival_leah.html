<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Survival</title>

    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <!-- Bootstrap -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

    <!-- Custom defined style -->
    <link rel="stylesheet" type="text/css" href="custom.css" >

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

  </head>
  
  <body>
    <h1>Kidnapping probability</h1>
    <div><svg id="circle1" height="100" width="100">
        <circle cx="50" cy="50" r="50"/></svg>
        <svg id="circle2" height="100" width="100">
        <circle cx="50" cy="50" r="50"/></svg>
        <svg id="circle3" height="100" width="100">
        <circle cx="50" cy="50" r="50"/></svg>
    </div>
    <div>
    	<p>Asked: </p><input type="range" min="0" max="100" step="1" id="money_asked" value="50"><br>
    	<p>Paid: </p><input type="range" min="0" max="100" step="1" id="money_paid" value="30">
    </div>

    <script> //For some reason the javascript file doesnt work
    asked = 50; // default
    paid = 30; // default
function update() {
    probability = paid / asked;
    if (probability > 0.3) {
        console.log("circle 1 color change");
        d3.select("#circle1").style("fill", "blue");
    }

    if (probability > 0.6) {
        console.log("circle 2 color change");
        d3.select("#circle2").style("fill", "red");
    } 

}

function asked_update(value) {
    asked = value;
    update();
}

function paid_update(value) {
    paid = value;
    update();
}

function init() {
    d3.select("#money_asked").on("input", function() {
        asked_update(this.value);
    });

    d3.select("#money_paid").on("input", function() {
        paid_update(this.value);
    });
}

init();
    </script>
  </body>
</html>
